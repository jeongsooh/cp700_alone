{% extends "base.html" %}
{% block head %}
<script>
    function cardregister_online() {
        $.ajax({
            url: "/api/v1/registeronline",
            contentType: "application/json",
            method: "POST",
            data: JSON.stringify({
                cardname: $("#cardname").val(),
                charger_id: $("#charger_id").val()
            }),
        }).done(function(res) {
            alert("Card is successfully created."); 
            window.location = "/";   
        });
    }
</script>
{% endblock %}
{% block contents %}
<div class="container">
    <div class="row mt-5">
        <h1>Online Charging Card Registration</h1>
    </div>
    <div class="row mt-5">
        <h5>1. Input the name of the card, you can freely name it, for example, My Charging card, etc.</h5>
        <h5>2. Click the Submit button and touch the card on the NFC mark on the front of CP700P.</h5>
        <h5>3. The card will be registered with the beep sound and you can use it to charge your EV.</h5>
    </div>
    <div class="row mt-5">
        <div class="col-12">
            <form>
                <div class="form-group">
                    <label for="cardname">Card Name</label>
                    <input type="text" id="cardname" class="form-control" placeholder="Card Name" name="cardname">
                </div>
                <div class="form-group">
                    <label for="charger_id">Charger ID</label>
                    <input type="text" id="charger_id" class="form-control" placeholder="Charger ID" name="charger_id">
                </div>
                <button type="button" class="btn btn-primary mt-3" onclick="cardregister_online()">Submit</button>
            </form>
        </div>
    </div>
</div>
{% endblock %}